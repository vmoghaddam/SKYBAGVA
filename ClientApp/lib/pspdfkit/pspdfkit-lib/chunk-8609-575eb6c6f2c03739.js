/*!
 * PSPDFKit for Web 2021.5.1 (https://pspdfkit.com/web)
 *
 * Copyright (c) 2016-2021 PSPDFKit GmbH. All rights reserved.
 *
 * THIS SOURCE CODE AND ANY ACCOMPANYING DOCUMENTATION ARE PROTECTED BY INTERNATIONAL COPYRIGHT LAW
 * AND MAY NOT BE RESOLD OR REDISTRIBUTED. USAGE IS BOUND TO THE PSPDFKIT LICENSE AGREEMENT.
 * UNAUTHORIZED REPRODUCTION OR DISTRIBUTION IS SUBJECT TO CIVIL AND CRIMINAL PENALTIES.
 * This notice may not be removed from this file.
 *
 * PSPDFKit uses several open source third-party components: https://pspdfkit.com/acknowledgements/web/
 */
(self.webpackChunkPSPDFKit=self.webpackChunkPSPDFKit||[]).push([[8609],{88609:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return $}});var a=n(90484),r=n(92137),o=n(96156),s=n(28481),i=n(87757),l=n.n(i),c=n(49477),u=n(80614),d=n(70545),m=n(46525),f=n(57378),p=n(48109),g=n(24956),v=n(35369),y=n(28520),b=n(33423),P=n(67294),h=n(94184),w=n.n(h),I=n(2316),k=n(49332),E=n(96456),N=n(15435),x=n(65827),D=n(8891),C=n(81253),S=n(22122),O=n(88594),M=["type"];function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z,j,K=P.memo((function(e){var t=e.items,a=e.builtInItems,r=e.moveDialog,o=e.CSS_HACK,s=o.components.ToolbarButtonComponent,i=o.styles;return t.map((function(e,t){var o=a.find((function(t){return t.type===e.type}));if("spacer"===e.type)return P.createElement("div",{style:{flex:1},className:e.className,key:"spacer-".concat(t)});if("move"===e.type&&o)return P.createElement("div",{key:o.type,className:i.moveButtonContainer},P.createElement(s,(0,S.Z)({},o,{icon:n(2851),className:w()(o.className,e.className),onPress:function(e){o&&o.onPress&&o.onPress(e)}})),r);if(o){var l=(0,O.zW)(o.type);return P.createElement(s,(0,S.Z)({},o,{key:o.type||t,icon:n(33720)("./".concat(l,".svg")),onPress:function(e){o&&o.onPress&&o.onPress(e)},className:w()(o.className,e.className)}))}if("custom"===e.type&&e.node){e.type;var c=(0,C.Z)(e,M);return P.createElement(D.Z,(0,S.Z)({},c,{onPress:function(t){return e.onPress&&e.onPress(t,e.id)},key:e.id||t}))}return P.createElement(s,(0,S.Z)({},e,{key:o&&o.type||t,onPress:function(t){return e.onPress&&e.onPress(t,e.id)}}))}))})),R=P.memo((function(e){var t=e.items,a=e.builtInItems,r=e.CSS_HACK,o=r.components,s=o.ToolbarDropdownGroupComponent,i=o.ToolbarButtonComponent,l=r.styles,c=e.frameWindow,u=t.map((function(e){var t=e.item,n=e.index,r=a.find((function(e){return e.type===t.type}));return r?{index:n,item:A(A({},r),{},{className:w()(r.className,t.className),onPress:function(e){r.onPress&&r.onPress(e)}})}:{item:t,index:n}}));return u.length>0&&P.createElement(P.Fragment,null,P.createElement("div",{style:{flex:1},key:"spacer-responsive"}),P.createElement(s,{icon:{type:"more",size:{width:20,height:20}},items:u,discreteDropdown:!0,caretDirection:"down",role:"menu",ItemComponent:function(e){var t=e.item,r=e.isSelectedItem,o=e.state,s=e.itemComponentProps,c=!r&&a.find((function(e){return e.type===t.item.type}));if(r)return null;var u=c&&c.type?(0,O.zW)(c.type):"";return t.item.node?P.createElement(D.Z,(0,S.Z)({},t.item,{onPress:t.item.onPress?function(e){return t.item.onPress(e,t.id)}:void 0,key:t.item.id||t.index})):P.createElement(i,(0,S.Z)({},t.item,{role:"menuitem",className:w()(t.item.className,l.toolbar.dropdownButton,"Focused"===o&&l.toolbar["dropdownButton"+o]),icon:c?n(33720)("./".concat(u,".svg")):t.item.icon,itemComponentProps:s}))},onSelect:function(e,t){var n=t.item,a=n.onPress;n.disabled||a&&a(e)},noInitialSelection:!0,frameWindow:c}))})),B=n(46232);function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw o}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=new y.$u({width:u.zA,height:u._2}),W=function(e){var t=e.styles,a=e.formatMessage,r=e.movePreview;return P.createElement("div",{style:{width:e.width,height:e.height},className:w()(t.importedDocument,(0,o.Z)({},t.importedDocumentMovePreview,r))},P.createElement("div",{className:t.importedDocumentIconCircle},P.createElement(E.Z,{src:n(11379)})),P.createElement("span",{className:t.importedDocumentInfo},a(G.documentMergedHere)))},V=function(e,t,n,a){var r,o=t.flatten(),s=e.map((function(e){return{type:"page",page:e,rotation:0,label:e.pageLabel}})),i=function(e){var t,n=e.dupeOf||e.label,a=0,r=L(s);try{for(r.s();!(t=r.n()).done;){var o=t.value;"dupeOf"in o&&null!=o.dupeOf&&o.dupeOf===n&&null!=o.dupeNumber&&o.dupeNumber>a&&(a=o.dupeNumber)}}catch(e){r.e(e)}finally{r.f()}return a+1},l=0,c=L(o);try{for(c.s();!(r=c.n()).done;){var u=r.value;switch(u.type){case"addPage":var m=void 0;null!=u.afterPageIndex?m=u.afterPageIndex+1:((0,B.k)(null!=u.beforePageIndex),m=u.beforePageIndex),++l,s=s.insert(m,{type:"newPage",label:"".concat(n(G.newPage)," ").concat(l),rotation:0,size:new y.$u({width:u.pageWidth,height:u.pageHeight})});break;case"removePages":var f,p=L(u.pageIndexes.map((function(e){return s.get(e)})));try{for(p.s();!(f=p.n()).done;){var g=f.value;(0,B.k)(null!=g);var v=s.indexOf(g);s=s.delete(v)}}catch(e){p.e(e)}finally{p.f()}break;case"rotatePages":var b,P=L(u.pageIndexes);try{for(P.s();!(b=P.n()).done;){var h=b.value,w=s.get(h);(0,B.k)(null!=w);var I=void 0,k=void 0;(0,B.k)("page"===w.type||"newPage"===w.type);var E=w.rotation;if(k=90===u.rotateBy?270===E?0:E+u.rotateBy:90===E?0:180===E?90:270===E?180:E+u.rotateBy,(0,B.k)(0===k||90===k||180===k||270===k),"page"===w.type)I=H(H({},w),{},{rotation:k});else{if("newPage"!==w.type)throw new d.p2("Rotation is not allowed on imported documents");I=H(H({},w),{},{rotation:k})}s=s.set(h,I)}}catch(e){P.e(e)}finally{P.f()}break;case"duplicatePages":var N,x=L(u.pageIndexes.map((function(e){return s.get(e)})));try{for(x.s();!(N=x.n()).done;){var D=N.value;(0,B.k)(null!=D),(0,B.k)("page"===D.type);var C=i(D),S=D.dupeOf||D.label,O=s.indexOf(D);s=s.insert(O+1,Object.assign({},D,{label:"".concat(S," (").concat(C,")"),dupeOf:S,dupeNumber:C}))}}catch(e){x.e(e)}finally{x.f()}break;case"movePages":var M=u.pageIndexes;if(1===M.length){var Z=M[0],A=void 0;null!=u.beforePageIndex?A=u.beforePageIndex:((0,B.k)(null!=u.afterPageIndex),A=u.afterPageIndex+1);var z=s.get(Z);(0,B.k)(null!=z);var j=s.get(A),K=s.size;s=s.delete(Z),A===K?s=s.push(z):0===A?s=s.unshift(z):((0,B.k)(null!=j),s=s.insert(s.indexOf(j),z))}else{var R=M.slice().sort();if(null!=u.beforePageIndex){(0,B.k)(0===u.beforePageIndex);var T,F=L(R.map((function(e){return s.get(e)})).reverse());try{for(F.s();!(T=F.n()).done;){var _=T.value;(0,B.k)(null!=_),s=(s=s.delete(s.indexOf(_))).unshift(_)}}catch(e){F.e(e)}finally{F.f()}}else{(0,B.k)(null!=u.afterPageIndex);var W=s.get(u.afterPageIndex);(0,B.k)(null!=W);var V,U=L(R.map((function(e){return s.get(e)})).reverse());try{for(U.s();!(V=U.n()).done;){var $=V.value;(0,B.k)(null!=$),s=(s=s.delete(s.indexOf($))).insert(s.indexOf(W)+1,$)}}catch(e){U.e(e)}finally{U.f()}}}break;case"importDocument":var X=void 0;"beforePageIndex"in u&&null!=u.beforePageIndex?X=u.beforePageIndex:((0,B.k)("afterPageIndex"in u&&null!=u.afterPageIndex),X=u.afterPageIndex+1);var Y=void 0;if("string"==typeof u.document){var J=u.document;(0,B.k)(a.has(J)),Y=a.get(J,"Imported Document")}else(0,B.k)("string"==typeof u.document.name),Y=u.document.name;s=s.insert(X,{type:"importedDocument",label:Y});break;case"keepPages":case"applyInstantJson":case"applyXfdf":case"flattenAnnotations":case"performOcr":case"setPageLabel":case"applyRedactions":case"updateMetadata":case"cropPages":throw Error("Unknown document operation");default:(0,d.Rz)(u.type)}}}catch(e){c.e(e)}finally{c.f()}return s},U=function(e){var t=e.pages,n=e.style,a=e.styles,r=e.previewCount;return P.createElement("div",{className:a.movePreview},P.createElement("div",{className:w()(a.movePreviewPages,(0,o.Z)({},a.movePreviewPagesLoose,"loose"===n))},t),P.createElement("div",{className:a.movePreviewCount},r||t.length))},$=(0,p.XN)((function(e){var t,i=e.onCancel,p=e.pages,h=e.dispatch,C=e.backend,S=e.frameWindow,O=e.intl.formatMessage,M=e.onDialog,Z=e.footerItems,A=e.toolbarItems,T=P.useMemo((function(){return Z.toJS()}),[Z]),F=P.useMemo((function(){return A.toJS()}),[A]),$=e.CSS_HACK.styles,X=P.useState((0,v.D5)()),Y=(0,s.Z)(X,2),J=Y[0],q=(Y[1],P.useState((0,v.aV)())),Q=(0,s.Z)(q,2),ee=Q[0],te=Q[1],ne=P.useState(0),ae=(0,s.Z)(ne,2),re=ae[0],oe=ae[1],se=ee.slice(0,ee.size-re),ie=V(e.pages,se,O,J),le=P.useState((0,v.l4)()),ce=(0,s.Z)(le,2),ue=ce[0],de=ce[1],me=P.useState(!1),fe=(0,s.Z)(me,2),pe=fe[0],ge=fe[1],ve=P.useState(!1),ye=(0,s.Z)(ve,2),be=ye[0],Pe=ye[1],he=P.useRef(null),we=P.useRef(null),Ie=P.useState(!1),ke=(0,s.Z)(Ie,2),Ee=ke[0],Ne=ke[1],xe=P.useState(""),De=(0,s.Z)(xe,2),Ce=De[0],Se=De[1],Oe=P.useCallback((function(){var e=we.current;null!=e&&(Ee&&e.ownerDocument.activeElement!==e?e.focus():Ee||e.ownerDocument.activeElement!==e||e.blur())}),[Ee]),Me=P.useCallback((function(e){Ne(e),Oe(),M(e)}),[M,Oe]);P.useEffect((function(){Oe()}),[Oe]);var Ze=P.useCallback((function(e){te(se.push(e)),oe(0)}),[se]),Ae=P.useRef(!0);P.useLayoutEffect((function(){return function(){Ae.current&&(Ae.current=!1)}}),[]);var ze=P.useCallback((function(){var e=p.get(0),t=e?e.pageSize:_,n={type:"addPage",backgroundColor:y.Il.WHITE,pageWidth:t.width,pageHeight:t.height,rotateBy:0};1===ue.size?n.afterPageIndex=ue.first():n.beforePageIndex=0,Ze(n),de(ue.clear())}),[p,ue,Ze]),je=P.useCallback((function(){Ze({type:"removePages",pageIndexes:ue.toArray()}),de(ue.clear())}),[Ze,ue]),Ke=P.useCallback((function(){Ze({type:"duplicatePages",pageIndexes:ue.toArray()}),de(ue.clear())}),[Ze,ue]),Re=P.useCallback((function(){Ze({type:"rotatePages",pageIndexes:ue.toArray(),rotateBy:270})}),[Ze,ue]),Be=P.useCallback((function(){Ze({type:"rotatePages",pageIndexes:ue.toArray(),rotateBy:90})}),[Ze,ue]),Le=P.useCallback((function(){Me(!Ee)}),[Ee,Me]),Te=P.useCallback((function(e){var t=e.target.value,n=t,a=parseInt(t,10);isNaN(a)||(n=Math.min(Math.max(a,0),ie.size).toString()),Se(n)}),[ie.size]),Fe=parseInt(Ce,10),He=P.useCallback((function(e){var t;return 1===e.size||null==e.sort().find((function(e){var n=!1;return null!=t&&(n=e!==t+1),t=e,n}))}),[]),_e=P.useCallback((function(e,t){var n=null!=t?t:ue,a=He(n);return!(n.includes(e-1)||0===e&&a&&n.includes(0)||a&&n.sort().first()===e)}),[ue,He]),We=!isNaN(Fe)&&_e(Fe),Ve=P.useCallback((function(e,t){var n=null!=t?t:ue,a=e-1;Ze(H({type:"movePages",pageIndexes:n.toArray()},0===e?{beforePageIndex:0}:{afterPageIndex:a}));var r=(0,v.l4)(),o=0;0!==e&&(o=a+1,n.forEach((function(e){e<a&&--o})));var s=o;n.forEach((function(){r=r.add(s),++s})),de(r)}),[ue,Ze,de]),Ue=P.useCallback((function(e){e.preventDefault(),We&&(Ve(Fe),Me(!1))}),[We,Fe,Me,Ve]),$e=P.useCallback((function(e){var t=e.target;if(Ee&&!t.classList.contains($.moveToolbarButton)){var n=he.current;(0,B.k)(null!=n),n.contains(t)||Me(!1)}}),[Ee,Me,$.moveToolbarButton]),Ge=P.useCallback((function(){var e=ue.sort().toList().map((function(e){return{type:"movePages",pageIndexes:[e],beforePageIndex:e-1}}));Ze(e),de((0,v.l4)(ue.toArray().map((function(e){return e-1}))))}),[Ze,ue]),Xe=P.useCallback((function(){var e=ue.sort().toList().map((function(e){return{type:"movePages",pageIndexes:[e],afterPageIndex:e+1}}));Ze(e),de((0,v.l4)(ue.toArray().map((function(e){return e+1}))))}),[Ze,ue]),Ye=P.useCallback((function(){de(ue.clear()),oe(re+1)}),[ue,re]),Je=P.useCallback((function(){de(ue.clear()),oe(re-1)}),[ue,re]),qe=P.useCallback((0,r.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},1===ue.size?t.afterPageIndex=ue.first():t.beforePageIndex=0,(n=document.createElement("input")).type="file",n.accept="application/pdf",n.onclick=function(e){e.target.value=""},n.onchange=function(e){if(0!==e.target.files.length){var n,r=se,o=L(e.target.files);try{var s=function(){var e=n.value;return"string"!=typeof e.name||0===e.name.length?{v:void 0}:"application/pdf"!==e.type?((0,d.wp)("The uploaded file must be a PDF."),{v:void 0}):-1!==ie.findIndex((function(t){return"importedDocument"===t.type&&t.label===e.name}))?{v:void 0}:void(r=r.push(H({type:"importDocument",treatImportedDocumentAsOnePage:!0,document:e},t)))};for(o.s();!(n=o.n()).done;){var i=s();if("object"===(0,a.Z)(i))return i.v}}catch(e){o.e(e)}finally{o.f()}te(r),oe(0),de(ue.clear())}},n.click();case 8:case"end":return e.stop()}}),e)}))),[ue,J,Ze,se,ie]),Qe=P.useCallback((function(){de(ie.keySeq().toSet())}),[ie,de]),et=P.useCallback((function(){de(ue.clear())}),[ue,de]),tt=P.useCallback((function(e){ue.has(e)?de(ue.delete(e)):de(ue.add(e))}),[ue,de]),nt=P.useCallback((function(){i()}),[i]),at=P.useCallback((function(){ge(!0),h((0,m.b_)(se.flatten().toArray(),(function(){Ae.current&&ge(!1)}),(function(e){throw Ae.current&&ge(!1),e})))}),[h,se]),rt=P.useCallback((0,r.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ge(!0),e.prev=1,e.next=4,C.exportPDFWithOperations(se.flatten().toArray().map(b.kg));case 4:t=e.sent,(0,g.cR)(t,S),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:return e.prev=11,Ae.current&&ge(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])}))),[C,se,S]),ot=function(e,t,n,a){var r,o=ie.get(e);switch((0,B.k)(null!=o),o.type){case"page":r=P.createElement(c.Z,{key:"page-".concat(o.label),page:o.page,size:t,maxSize:n,rotation:o.rotation});break;case"newPage":var s=(0,c.X)(o.size,o.rotation,t,n),i=s.rotatedWidth,l=s.rotatedHeight;r=P.createElement("div",{key:"newPage-".concat(o.label),className:$.newPage,style:{width:i,height:l}});break;case"importedDocument":var u=(0,c.X)(_,0,t,n),m=u.containerWidth,f=u.containerHeight;r=P.createElement(W,{width:m,height:f,movePreview:a,key:"importedDoc-".concat(o.label),styles:$,formatMessage:O});break;default:r=P.createElement(P.Fragment,null),(0,d.Rz)(o.type)}return{item:r,label:o.label}},st=ue.size>0&&ue.size!==ie.size&&!pe,it=ue.size>0&&void 0===ue.find((function(e){var t=ie.get(e);return(0,B.k)(null!=t),"page"!==t.type&&"newPage"!==t.type})),lt=ue.size>0&&void 0===ue.find((function(e){var t=ie.get(e);return(0,B.k)(null!=t),"page"!==t.type})),ct=!ue.isEmpty()&&ue.size!==ie.size&&!pe,ut=!ue.isEmpty()&&!ue.includes(0),dt=!ue.isEmpty()&&!ue.includes(ie.size-1),mt=re<ee.size,ft=re>0,pt=ue.size<ie.size&&!pe,gt=!ue.isEmpty()&&!pe,vt=P.useRef(null),yt=P.useRef(!1);P.useLayoutEffect((function(){var e=vt.current;if(null!=e){yt.current||(e.focus(),yt.current=!0);var t=function(e){if((null==document.activeElement||"INPUT"!==document.activeElement.tagName)&&!pe){var t=e.key.toLowerCase(),n=e.metaKey||e.ctrlKey,a=n&&!e.shiftKey&&!e.altKey,r=e.altKey&&!n&&!e.shiftKey,o=!n&&!e.shiftKey&&!e.altKey;if(e.altKey&&e.shiftKey&&!n&&"arrowleft"===t&&it)Re();else if(e.altKey&&e.shiftKey&&!n&&"arrowright"===t&&it)Be();else if(r&&"arrowleft"===t&&ut)Ge();else if(r&&"arrowright"===t&&dt)Xe();else if(n&&e.shiftKey&&!e.altKey&&"z"===t&&ft)Je();else if(a&&"z"===t&&mt)Ye();else if(a&&"a"===t&&pt)Qe();else if(a&&"d"===t&&gt)et();else if(o&&"n"===t)ze();else if(o&&"d"===t&&st)je();else if(o&&"c"===t&&lt)Ke();else if(o&&"l"===t&&it)Re();else if(o&&"r"===t&&it)Be();else if(o&&"m"===t&&ct)Me(!0);else{if(!o||"i"!==t)return;qe()}e.preventDefault()}};return e.addEventListener("keydown",t),function(){e.removeEventListener("keydown",t)}}}),[lt,ct,ut,dt,ft,st,it,pt,gt,mt,ze,Ke,qe,Ge,Xe,Je,je,Re,Be,Qe,et,Ye,pe,Me]);var bt=$.toolbar.toolbarButton,Pt=[{type:"add",onPress:ze,className:bt,disabled:pe,children:O(G.newPage)},{type:"remove",onPress:je,className:bt,disabled:!st,children:O(G.removePage)},{type:"duplicate",onPress:Ke,className:bt,children:O(G.duplicatePage),disabled:!lt||pe},{type:"rotate-left",onPress:Re,className:bt,children:O(G.rotatePageLeft),disabled:!it||pe},{type:"rotate-right",onPress:Be,className:bt,children:O(G.rotatePageRight),disabled:!it||pe},{type:"move",onPress:Le,className:w()(bt,$.moveToolbarButton),children:O(G.openMoveDialog),disabled:!ct},{type:"move-left",onPress:Ge,className:$.toolbar.toolbarButton,children:O(G.moveBefore),disabled:!ut||pe},{type:"move-right",onPress:Xe,className:bt,children:O(G.moveAfter),disabled:!dt||pe},{type:"import-document",onPress:qe,className:bt,children:O(G.mergeDocument),disabled:pe},{type:"spacer"},{type:"undo",onPress:Ye,className:bt,children:O(I.Z.undo),disabled:!mt||pe},{type:"redo",onPress:Je,className:bt,children:O(I.Z.redo),disabled:!ft||pe},{type:"select-all",onPress:Qe,className:bt,children:O(G.selectAll),disabled:!pt},{type:"select-none",onPress:et,className:bt,children:O(G.selectNone),disabled:!gt}],ht=P.useState(Number.POSITIVE_INFINITY),wt=(0,s.Z)(ht,2),It=wt[0],kt=wt[1],Et=P.useMemo((function(){return It===Number.POSITIVE_INFINITY?[F,[]]:[F.slice(0,It),F.slice(It).filter((function(e){return"spacer"!==e.type})).map((function(e,t){return{index:t,item:H(H({},e),{},{dropdownGroup:"documentEditor"})}}))]}),[F,It]),Nt=(0,s.Z)(Et,2),xt=Nt[0],Dt=Nt[1],Ct=P.useState(new y.$u),St=(0,s.Z)(Ct,2),Ot=St[0],Mt=St[1],Zt=P.useCallback((function(e){Mt((function(t){return t.width!==e.width&&kt(Number.POSITIVE_INFINITY),new y.$u({width:e.width,height:e.height})}))}),[Mt,kt]),At=P.useRef(null);P.useLayoutEffect((function(){var e=At.current;if(e&&0!==Ot.width){var t=e.children;if(t.length!==It){var n=e.ownerDocument.defaultView.getComputedStyle(e),a=44+(parseInt(n.getPropertyValue("padding-left"))||0)+(parseInt(n.getPropertyValue("padding-right"))||0),r=[].findIndex.call(t,(function(e,t){return"spacer"!==F[t].type&&(a+=e.clientWidth)>Ot.width}));kt(-1===r?Number.POSITIVE_INFINITY:r),e.ownerDocument.defaultView.innerWidth>=u.Fg?Pe(!0):Pe(!1)}}}),[Ot,It,kt,F]);var zt,jt=P.useCallback((function(e){"Escape"===e.key&&Ee&&(Me(!1),e.stopPropagation())}),[Ee,Me]),Kt=P.useMemo((function(){return null!=xt.find((function(e){return"move"===e.type}))}),[xt]),Rt=P.createElement("div",{className:w()($.moveDialog,(t={},(0,o.Z)(t,$.moveDialogShown,Ee),(0,o.Z)(t,$.moveDialogDetached,!Kt),t)),ref:he},P.createElement("form",{onSubmit:Ue,className:$.moveDialogForm},P.createElement("span",{className:$.moveDialogFormLabel},O(G.insertAfterPage)),P.createElement("input",{className:$.moveDialogFormInput,type:"number",min:"0",max:ie.size,value:Ce,onChange:Te,ref:we}),P.createElement(f.zx,{type:"submit",className:$.moveDialogMoveButton,disabled:!We},O(G.move))),P.createElement("div",{className:$.moveDialogHint},P.createElement("p",{className:$.moveDialogHintText},O(G.moveBeginningHint)))),Bt=P.useCallback((function(e,t){var n=(0,v.l4)(e);_e(t,n)&&Ve(t,n)}),[Ve,_e]),Lt=Ee&&!isNaN(Fe);if(Lt){var Tt=ue.toList().sort().map((function(e){return ot(e,160,160,!0).item})).toArray(),Ft=P.createElement(U,{pages:Tt,style:"straight",styles:$});Lt&&(zt=0===Fe?{previewContent:Ft,pageIndex:0,position:"left"}:{previewContent:Ft,pageIndex:Fe-1,position:"right"},We||(zt.disabled=!0))}var Ht=P.useMemo((function(){var e;return{cancel:{element:P.createElement(f.zx,null,O(I.Z.cancel)),onPress:nt},"selected-pages":{element:P.createElement("div",null,P.createElement("div",{className:$.pagesSelectedIcon},P.createElement(E.Z,{src:n(24512)})),O(G.pagesSelected,{arg0:ue.size})),className:w()((e={},(0,o.Z)(e,$.pagesSelectedIndicator,!0),(0,o.Z)(e,$.pagesSelectedIndicatorShown,ue.size>0),e))},spacer:{element:z||(z=P.createElement("div",null)),className:$.spacer},"loading-indicator":{element:j||(j=P.createElement(N.Z,null)),hide:!pe},"save-as":{element:P.createElement(f.zx,null,O(I.Z.saveAs)),onPress:rt,disabled:pe},save:{element:P.createElement(f.zx,{primary:!0},O(I.Z.save)),disabled:se.isEmpty()||pe,onPress:at}}}),[$,O,nt,rt,at,pe,se,G,ue]),_t=P.useMemo((function(){return T.map((function(e,t){var n=e.onPress,a=e.className,r=e.type,o=e.node,s=e.id;if((0,B.k)(r),"custom"===r)return o?P.createElement(D.Z,{className:a,onPress:n?function(e){return n(e,s)}:void 0,key:s||t,node:o}):null;var i=Ht[r];return i.hide?null:P.cloneElement(i.element,{onClick:function(e){i.onPress&&i.onPress(e)},key:r,disabled:i.disabled,className:w()(i.className,a)})}))}),[T,Ht]);return P.createElement("div",{className:w()($.docEditor,"PSPDFKit-DocumentEditor"),onClick:$e,onKeyDown:jt,tabIndex:"-1",ref:vt},P.createElement("div",{className:w()($.toolbar.root,$.toolbarRoot,"PSPDFKit-DocumentEditor-Toolbar"),style:{flex:0}},P.createElement("div",{ref:At,className:$.toolbarContainer},P.createElement(K,{items:xt,builtInItems:Pt,moveDialog:Rt,CSS_HACK:e.CSS_HACK})),P.createElement(R,{builtInItems:Pt,items:Dt,CSS_HACK:e.CSS_HACK,frameWindow:S})),P.createElement("div",{className:$.pagesView},P.createElement(x.Z,{onResize:Zt}),!Kt&&Rt,P.createElement("div",{className:w()($.pagesGrid,(0,o.Z)({},$.pagesGridLargeThumbnails,be))},P.createElement(k.Z,{canInsert:function(e,t){return _e(t,(0,v.l4)(e))},totalItems:ie.size,width:Ot.width,height:Ot.height,itemScale:e.scale,renderItemCallback:ot,renderDragPreviewCallback:function(e,t,n,a){var r=(0,v.aV)(e).filter((function(e){return e!==t})).sort().push(t).slice(-5).map((function(e){return ot(e,n,a,!0).item})).toArray();return P.createElement(U,{pages:r,style:"straight",styles:$,previewCount:e.length})},onItemPress:tt,selectedItemIndexes:ue,cssPrefix:"PSPDFKit-DocumentEditor",moveCursor:null!=zt?zt:void 0,onItemsMove:Ee?void 0:Bt}))),P.createElement("div",{className:w()($.bottomBar,"PSPDFKit-DocumentEditor-Footer")},_t))})),G=(0,p.vU)({newPage:{id:"newPage",defaultMessage:"New Page",description:"Add new page"},removePage:{id:"removePage",defaultMessage:"Remove Page",description:"Remove page"},duplicatePage:{id:"duplicatePage",defaultMessage:"Duplicate Page",description:"Duplicate page"},rotatePageLeft:{id:"rotatePageLeft",defaultMessage:"Rotate Page Left",description:"Rotate Page Left"},rotatePageRight:{id:"rotatePageRight",defaultMessage:"Rotate Page Right",description:"Rotate Page Right"},mergeDocument:{id:"mergeDocument",defaultMessage:"Merge Document",description:"Merge Document"},selectAll:{id:"selectAll",defaultMessage:"Select All",description:"Select All Pages"},selectNone:{id:"selectNone",defaultMessage:"Select None",description:"Deselect All Pages"},openMoveDialog:{id:"openMoveDialog",defaultMessage:"Move…",description:"Open dialog for moving pages to specific location in the document"},move:{id:"move",defaultMessage:"Move",description:"Move pages to specific location in the document"},moveBefore:{id:"moveBefore",defaultMessage:"Move Before",description:"Move page before previous one"},moveAfter:{id:"moveAfter",defaultMessage:"Move After",description:"Move page after next one"},documentMergedHere:{id:"documentMergedHere",defaultMessage:"Document will be merged here",description:"Placeholder for the imported document"},pagesSelected:{id:"pagesSelected",defaultMessage:"{arg0, plural,\n      =0 {{arg0} Pages}\n      one {{arg0} Page}\n      two {{arg0} Pages}\n      other {{arg0} Pages}\n    }",description:"Number of pages selected."},insertAfterPage:{id:"insertAfterPage",defaultMessage:"Insert after page",description:"Move selected pages after designated page index."},moveBeginningHint:{id:"docEditorMoveBeginningHint",defaultMessage:"Type “0” to move selected pages to the beginning of the document.",description:"Instructions for how to move pages to the beginning of the document when using the Move button in the Document Editor."}})},33720:function(e,t,n){var a={"./add.svg":64937,"./duplicate.svg":76457,"./extract.svg":15020,"./help.svg":35720,"./importDocument.svg":11379,"./move.svg":2851,"./moveLeft.svg":60447,"./moveRight.svg":78432,"./multiplePages.svg":24512,"./redo.svg":78092,"./remove.svg":54637,"./rotateLeft.svg":16162,"./rotateRight.svg":92791,"./selectAll.svg":89392,"./selectNone.svg":81977,"./undo.svg":15549};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=33720}}]);